---
interface Props {
    white?: boolean;
}

const { white } = Astro.props;
---

<astro-hamburger
    aria-label="Ouvrir le menu principal"
    class=`relative z-20 block p-1 cursor-pointer bg-transparent border-none group *:block *:w-5 *:h-[3px] *:mb-[5px] *:rounded-sm *:transition-all ${white ? '*:bg-white' : '*:bg-primary'}`
>
    <span class="group-[.open]:rotate-45 group-[.open]:translate-x-[1px] group-[.open]:translate-y-[8px]" />
    <span class="group-[.open]:opacity-0" />
    <span class="group-[.open]:-rotate-45 group-[.open]:translate-x-[1px] group-[.open]:-translate-y-[8px]" />
</astro-hamburger>

<script type="module">
    class AstroHamburger extends HTMLElement {
        constructor() {
            super();
            this.addEventListener("click", () => {
                this.classList.toggle("open");
            });
        }
    }

    customElements.define("astro-hamburger", AstroHamburger);
</script>